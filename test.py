# list_to_uniq = [
#     {
#         "id": 7191392105,
#         "item_id": 24359,
#         "price": 114,
#         "quantity": 1,
#         "created": "2023-08-27T17:58:27+00:00",
#         "purchased": "2023-08-27T17:58:46+00:00"
#     },
#     {
#         "id": 7191392104,
#         "item_id": 24359,
#         "price": 115,
#         "quantity": 9,
#         "created": "2023-08-27T17:47:03+00:00",
#         "purchased": "2023-08-27T17:58:46+00:00"
#     },
#     {
#         "id": 7189464137,
#         "item_id": 48917,
#         "price": 2007,
#         "quantity": 25,
#         "created": "2023-08-22T15:40:55+00:00",
#         "purchased": "2023-08-26T14:02:35+00:00"
#     },
#     {
#         "id": 7189231342,
#         "item_id": 77567,
#         "price": 1705,
#         "quantity": 4,
#         "created": "2023-08-26T10:13:40+00:00",
#         "purchased": "2023-08-26T10:17:56+00:00"
#     },
#     {
#         "id": 7189231341,
#         "item_id": 77567,
#         "price": 1706,
#         "quantity": 21,
#         "created": "2023-08-26T01:29:55+00:00",
#         "purchased": "2023-08-26T10:17:56+00:00"
#     },
#     {
#         "id": 7189230515,
#         "item_id": 95942,
#         "price": 542,
#         "quantity": 25,
#         "created": "2023-08-26T10:04:18+00:00",
#         "purchased": "2023-08-26T10:17:10+00:00"
#     },
#     {
#         "id": 7131861242,
#         "item_id": 95942,
#         "price": 172,
#         "quantity": 10,
#         "created": "2023-07-07T15:31:48+00:00",
#         "purchased": "2023-07-07T22:48:16+00:00"
#     },
#     {
#         "id": 7131861241,
#         "item_id": 95942,
#         "price": 172,
#         "quantity": 40,
#         "created": "2023-07-07T15:31:46+00:00",
#         "purchased": "2023-07-07T22:48:16+00:00"
#     },
#     {
#         "id": 7125302427,
#         "item_id": 67528,
#         "price": 3690,
#         "quantity": 10,
#         "created": "2023-07-02T02:48:01+00:00",
#         "purchased": "2023-07-02T03:53:01+00:00"
#     },
#     {
#         "id": 7121814243,
#         "item_id": 94123,
#         "price": 1670240,
#         "quantity": 1,
#         "created": "2023-06-28T14:04:45+00:00",
#         "purchased": "2023-06-28T18:35:27+00:00"
#     },
#     {
#         "id": 7121813702,
#         "item_id": 94142,
#         "price": 900000,
#         "quantity": 1,
#         "created": "2023-06-19T14:10:12+00:00",
#         "purchased": "2023-06-28T18:34:51+00:00"
#     },
#     {
#         "id": 7117833181,
#         "item_id": 98178,
#         "price": 14005,
#         "quantity": 1,
#         "created": "2023-06-20T10:19:16+00:00",
#         "purchased": "2023-06-24T21:40:12+00:00"
#     },
#     {
#         "id": 7115547583,
#         "item_id": 71581,
#         "price": 1795,
#         "quantity": 30,
#         "created": "2023-06-22T13:02:11+00:00",
#         "purchased": "2023-06-22T16:17:55+00:00"
#     },
#     {
#         "id": 7115547159,
#         "item_id": 71581,
#         "price": 1795,
#         "quantity": 106,
#         "created": "2023-06-22T13:02:11+00:00",
#         "purchased": "2023-06-22T16:17:28+00:00"
#     },
#     {
#         "id": 7115546511,
#         "item_id": 71581,
#         "price": 1792,
#         "quantity": 10,
#         "created": "2023-06-22T16:07:29+00:00",
#         "purchased": "2023-06-22T16:16:35+00:00"
#     },
#     {
#         "id": 7115546510,
#         "item_id": 71581,
#         "price": 1793,
#         "quantity": 240,
#         "created": "2023-06-22T15:29:59+00:00",
#         "purchased": "2023-06-22T16:16:35+00:00"
#     },
#     {
#         "id": 7115546482,
#         "item_id": 71581,
#         "price": 1792,
#         "quantity": 23,
#         "created": "2023-06-22T16:07:29+00:00",
#         "purchased": "2023-06-22T16:16:32+00:00"
#     },
#     {
#         "id": 7115546481,
#         "item_id": 71581,
#         "price": 1789,
#         "quantity": 81,
#         "created": "2023-06-22T16:00:53+00:00",
#         "purchased": "2023-06-22T16:16:32+00:00"
#     },
#     {
#         "id": 7115546480,
#         "item_id": 71581,
#         "price": 1791,
#         "quantity": 4,
#         "created": "2023-06-22T15:35:40+00:00",
#         "purchased": "2023-06-22T16:16:32+00:00"
#     },
#     {
#         "id": 7115546479,
#         "item_id": 71581,
#         "price": 1792,
#         "quantity": 142,
#         "created": "2023-06-22T15:34:12+00:00",
#         "purchased": "2023-06-22T16:16:32+00:00"
#     },
#     {
#         "id": 7115546425,
#         "item_id": 71581,
#         "price": 1769,
#         "quantity": 10,
#         "created": "2023-06-22T16:13:52+00:00",
#         "purchased": "2023-06-22T16:16:30+00:00"
#     },
#     {
#         "id": 7115546424,
#         "item_id": 71581,
#         "price": 1769,
#         "quantity": 68,
#         "created": "2023-06-22T16:13:33+00:00",
#         "purchased": "2023-06-22T16:16:30+00:00"
#     },
#     {
#         "id": 7115546423,
#         "item_id": 71581,
#         "price": 1789,
#         "quantity": 169,
#         "created": "2023-06-22T16:00:53+00:00",
#         "purchased": "2023-06-22T16:16:30+00:00"
#     },
#     {
#         "id": 7115546422,
#         "item_id": 71581,
#         "price": 1789,
#         "quantity": 2,
#         "created": "2023-06-22T15:37:22+00:00",
#         "purchased": "2023-06-22T16:16:30+00:00"
#     },
#     {
#         "id": 7115546421,
#         "item_id": 71581,
#         "price": 1789,
#         "quantity": 1,
#         "created": "2023-06-22T15:36:35+00:00",
#         "purchased": "2023-06-22T16:16:30+00:00"
#     },
#     {
#         "id": 7115546381,
#         "item_id": 71581,
#         "price": 1769,
#         "quantity": 32,
#         "created": "2023-06-22T16:13:33+00:00",
#         "purchased": "2023-06-22T16:16:25+00:00"
#     },
#     {
#         "id": 7115546380,
#         "item_id": 71581,
#         "price": 1769,
#         "quantity": 61,
#         "created": "2023-06-22T15:49:24+00:00",
#         "purchased": "2023-06-22T16:16:25+00:00"
#     },
#     {
#         "id": 7115546379,
#         "item_id": 71581,
#         "price": 1769,
#         "quantity": 157,
#         "created": "2023-06-22T15:38:06+00:00",
#         "purchased": "2023-06-22T16:16:25+00:00"
#     },
#     {
#         "id": 7115542751,
#         "item_id": 24294,
#         "price": 85,
#         "quantity": 4,
#         "created": "2023-06-22T16:03:13+00:00",
#         "purchased": "2023-06-22T16:11:50+00:00"
#     },
#     {
#         "id": 7115542652,
#         "item_id": 70820,
#         "price": 228,
#         "quantity": 4,
#         "created": "2023-06-22T15:48:19+00:00",
#         "purchased": "2023-06-22T16:11:43+00:00"
#     },
#     {
#         "id": 7115542370,
#         "item_id": 24341,
#         "price": 122,
#         "quantity": 1,
#         "created": "2023-06-22T16:11:16+00:00",
#         "purchased": "2023-06-22T16:11:24+00:00"
#     },
#     {
#         "id": 7115542369,
#         "item_id": 24341,
#         "price": 122,
#         "quantity": 6,
#         "created": "2023-06-22T16:11:07+00:00",
#         "purchased": "2023-06-22T16:11:24+00:00"
#     },
#     {
#         "id": 7115542368,
#         "item_id": 24341,
#         "price": 122,
#         "quantity": 9,
#         "created": "2023-06-22T16:10:56+00:00",
#         "purchased": "2023-06-22T16:11:24+00:00"
#     },
#     {
#         "id": 7115542367,
#         "item_id": 24341,
#         "price": 122,
#         "quantity": 2,
#         "created": "2023-06-22T16:10:51+00:00",
#         "purchased": "2023-06-22T16:11:24+00:00"
#     },
#     {
#         "id": 7115542366,
#         "item_id": 24341,
#         "price": 123,
#         "quantity": 28,
#         "created": "2023-06-22T16:08:02+00:00",
#         "purchased": "2023-06-22T16:11:24+00:00"
#     },
#     {
#         "id": 7115542133,
#         "item_id": 24275,
#         "price": 309,
#         "quantity": 8,
#         "created": "2023-06-22T16:08:36+00:00",
#         "purchased": "2023-06-22T16:11:06+00:00"
#     },
#     {
#         "id": 7115542132,
#         "item_id": 24275,
#         "price": 309,
#         "quantity": 3,
#         "created": "2023-06-22T16:03:55+00:00",
#         "purchased": "2023-06-22T16:11:06+00:00"
#     },
#     {
#         "id": 7115542131,
#         "item_id": 24275,
#         "price": 310,
#         "quantity": 32,
#         "created": "2023-06-21T20:20:27+00:00",
#         "purchased": "2023-06-22T16:11:06+00:00"
#     },
#     {
#         "id": 7115541998,
#         "item_id": 24280,
#         "price": 299,
#         "quantity": 74,
#         "created": "2023-06-22T16:08:43+00:00",
#         "purchased": "2023-06-22T16:10:52+00:00"
#     },
#     {
#         "id": 7115541876,
#         "item_id": 24348,
#         "price": 280,
#         "quantity": 76,
#         "created": "2023-06-22T16:07:14+00:00",
#         "purchased": "2023-06-22T16:10:39+00:00"
#     },
#     {
#         "id": 7115541770,
#         "item_id": 24287,
#         "price": 292,
#         "quantity": 72,
#         "created": "2023-06-22T12:02:39+00:00",
#         "purchased": "2023-06-22T16:10:31+00:00"
#     },
#     {
#         "id": 7115541664,
#         "item_id": 24363,
#         "price": 271,
#         "quantity": 79,
#         "created": "2023-06-22T15:04:25+00:00",
#         "purchased": "2023-06-22T16:10:18+00:00"
#     },
#     {
#         "id": 7115541587,
#         "item_id": 24292,
#         "price": 294,
#         "quantity": 90,
#         "created": "2023-06-22T14:21:07+00:00",
#         "purchased": "2023-06-22T16:10:07+00:00"
#     },
#     {
#         "id": 7115541489,
#         "item_id": 24298,
#         "price": 276,
#         "quantity": 63,
#         "created": "2023-06-22T16:01:14+00:00",
#         "purchased": "2023-06-22T16:09:54+00:00"
#     },
#     {
#         "id": 7115541488,
#         "item_id": 24298,
#         "price": 283,
#         "quantity": 34,
#         "created": "2023-06-22T15:52:36+00:00",
#         "purchased": "2023-06-22T16:09:54+00:00"
#     },
#     {
#         "id": 7115541393,
#         "item_id": 24293,
#         "price": 330,
#         "quantity": 77,
#         "created": "2023-06-22T14:51:30+00:00",
#         "purchased": "2023-06-22T16:09:45+00:00"
#     },
#     {
#         "id": 7115541327,
#         "item_id": 24286,
#         "price": 348,
#         "quantity": 82,
#         "created": "2023-06-22T09:43:21+00:00",
#         "purchased": "2023-06-22T16:09:32+00:00"
#     },
#     {
#         "id": 7115541180,
#         "item_id": 24345,
#         "price": 400,
#         "quantity": 68,
#         "created": "2023-06-22T14:56:09+00:00",
#         "purchased": "2023-06-22T16:09:18+00:00"
#     },
#     {
#         "id": 7115541115,
#         "item_id": 24281,
#         "price": 441,
#         "quantity": 76,
#         "created": "2023-06-22T12:29:40+00:00",
#         "purchased": "2023-06-22T16:09:07+00:00"
#     },
#     {
#         "id": 7115540977,
#         "item_id": 24349,
#         "price": 463,
#         "quantity": 20,
#         "created": "2023-02-21T01:27:21+00:00",
#         "purchased": "2023-06-22T16:08:50+00:00"
#     }]
#
# set_buy_list = set()
#
#
# for element in list_to_uniq:
#     set_buy_list.add(element.get('item_id'))
#
#
# sorted_list = sorted(set_buy_list)
# print(sorted_list)
import requests

sorted_items_list = [24275, 24280, 24281, 24286, 24287, 24292, 24293, 24294, 24298, 24341, 24345, 24348, 24349, 24359, 24363, 48917, 67528, 70820, 71581, 77567, 94123, 94142, 95942, 98178]
items_endpoint = \
    'https://api.guildwars2.com/v2/items'


# # Открываем файл для записи
# file_path = "output_history_buys_1.txt"
# with open(file_path, "w") as file:
#     for item in sorted_items_list:
#         file.write(str(item) + "\n")
#
# print("Данные сохранены в", file_path)
#
#
# query_params_gw = {"ids": 24275}
# response = requests.get(items_endpoint, query_params_gw)
# print(response.json())

# response_history_buys = requests.get(history_buys_endpoint, query_params_gw)
# print(response_history_buys.json())


# response_items = requests.get(items_endpoint, {"ids": 24359})
# # print(response_items.json())

# mock_history_buys_endpoint = \
#     'http://0.0.0.0:8083/v2/commerce/transactions/history/buy'
# mock_items_endpoint = \
#     'https://api.guildwars2.com/v2/items'


# Открываем файл для записи
file_path = "config_mmock/output_history_buys_1.txt"
with open(file_path, "w") as file:
    for item in sorted_items_list:
        response = requests.get(items_endpoint, {"ids": item})
        file.write(str(response.json()) + "\n")

print("Данные сохранены в", file_path)
